<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Media Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="main_style.css" type="text/css">
    <script defer src="Public/js/script.js"></script>
</head>
<body>
    <video autoplay muted loop class="background-video" id="backgroundVideo">
        <source src="videos/dark.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <div class="heading_container">
        <div class="home_btn">
            <img src="Public/Images/home_icon.png" height="20px"> <!-- Adjust height as needed -->
        </div>
        <label class="switch">
            <input type="checkbox" id="backgroundToggle">
            <span class="slider"></span>
        </label>
        <div class="setting_btn" id="settingButton">
            <img src="Public/Images/setting_icon.png" height="20px"> <!-- Adjust height as needed -->
        </div>
    </div>
    
    <script>
        document.getElementById('settingButton').addEventListener('click', function() {
            window.location.href = 'mainsetting.html';
        });
    </script>

    <div class="dashboard_title">
        <p>SOCIAL MEDIA DASHBOARD</p>
    </div>

    <div class="cards_container">
        <div class="first_row">
            <button class="facebook_card">
                <img src="Public/Images/facebook/facebook_icon.png" height="150px">
            </button>
            <button class="instagram_card">
                <img class="instagram_img" src="Public/Images/instagram/instagram_icon.png" height="125px">
            </button>
        </div>
        <div class="second_row">
            <button class="youtube_card">
                <img src="Public/Images/youtube/youtube_icon.png" height="110px">
            </button>
            <button class="twitter_card">
                <img src="Public/Images/twitter/twitter_icon1.png" height="100px">
            </button>
        </div>
    </div>

    <script>
        const toggleSwitch = document.getElementById('backgroundToggle');
        const backgroundVideo = document.getElementById('backgroundVideo');
        const body = document.body;
        const heading_container = document.querySelector('.heading_container');

        // Store the original and new video sources
        const originalVideoSrc = 'videos/dark.mp4';
        const newVideoSrc = 'videos/white.mp4'; // Change this to your new video

        const getTheme = localStorage.getItem("theme");
        if (getTheme) {
            if (getTheme === "dark-mode") {
                body.classList.add("dark-mode")
                toggleSwitch.checked = true;
                backgroundVideo.src = newVideoSrc;
            } else if (getTheme === "light-mode") {
                if (body.classList.contains("dark-mode")) {
                    body.classList.remove("dark-mode")
                }
                toggleSwitch.checked = false;
                backgroundVideo.src = originalVideoSrc;
            }
        }

        toggleSwitch.addEventListener('change', function() {
            // Change the video source based on the toggle state
            if (this.checked) {
                backgroundVideo.src = newVideoSrc;
                body.classList.add('dark-mode'); // Add class for dark mode
                heading_container.classList.add('dark-mode'); // Change heading_container to dark mode
                heading_container.classList.remove('light-mode'); // Ensure light mode class is removed
                localStorage.setItem("theme", "dark-mode")
            } else {
                backgroundVideo.src = originalVideoSrc;
                body.classList.remove('dark-mode'); // Remove class for dark mode
                heading_container.classList.remove('dark-mode'); // Ensure dark mode class is removed
                heading_container.classList.add('light-mode'); // Change heading_container back to light mode
                localStorage.setItem("theme", "light-mode")
            }
            // Load the new video
            backgroundVideo.load();
            // Restart the video
            backgroundVideo.play();
        });
    </script>
    
</body>
</html>